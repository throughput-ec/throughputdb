<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />


<meta name="author" content="Simon Goring" />

<meta name="date" content="2017-10-13" />

<title>Throughput Database Case Studies</title>

<script src="case_study_files/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="case_study_files/bootstrap-3.3.5/css/bootstrap.min.css" rel="stylesheet" />
<script src="case_study_files/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="case_study_files/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="case_study_files/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="case_study_files/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="case_study_files/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="case_study_files/tocify-1.9.1/jquery.tocify.js"></script>
<script src="case_study_files/navigation-1.1/tabsets.js"></script>
<script src="case_study_files/navigation-1.1/codefolding.js"></script>
<link href="case_study_files/highlightjs-1.1/default.css" rel="stylesheet" />
<script src="case_study_files/highlightjs-1.1/highlight.js"></script>
<script src="case_study_files/htmlwidgets-0.9/htmlwidgets.js"></script>
<script src="case_study_files/d3-4.5.0/d3.min.js"></script>
<script src="case_study_files/forceNetwork-binding-0.4/forceNetwork.js"></script>

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs && document.readyState && document.readyState === "complete") {
   window.setTimeout(function() {
      hljs.initHighlighting();
   }, 0);
}
</script>



<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>

<link rel="stylesheet" href="css/sjg_markdown.css" type="text/css" />

</head>

<body>

<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
  height: auto;
}
.tabbed-pane {
  padding-top: 12px;
}
button.code-folding-btn:focus {
  outline: none;
}
</style>



<div class="container-fluid main-container">

<!-- tabsets -->
<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});
</script>

<!-- code folding -->
<style type="text/css">
.code-folding-btn { margin-bottom: 4px; }
</style>
<script>
$(document).ready(function () {
  window.initializeCodeFolding("hide" === "show");
});
</script>




<script>
$(document).ready(function ()  {

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_').toLowerCase();
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}


.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
  padding-left: 25px;
  text-indent: 0;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>

<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row-fluid">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="fluid-row" id="header">

<div class="btn-group pull-right">
<button type="button" class="btn btn-default btn-xs dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><span>Code</span> <span class="caret"></span></button>
<ul class="dropdown-menu" style="min-width: 50px;">
<li><a id="rmd-show-all-code" href="#">Show All Code</a></li>
<li><a id="rmd-hide-all-code" href="#">Hide All Code</a></li>
</ul>
</div>



<h1 class="title toc-ignore">Throughput Database Case Studies</h1>
<h4 class="author"><em>Simon Goring</em></h4>
<h4 class="date"><em>October 13, 2017</em></h4>

</div>


<div id="overview" class="section level2">
<h2>Overview</h2>
<p>Throughput is designed to facilitate the transmission of schientific cultural knowledge around data resources to assist interdisciplinary research. We want to move anecdotal information about records from the lab to the cloud. The goal of this document is to highlight several key case studies that inform the development of the data resource, by caturing key use patterns.</p>
</div>
<div id="technology-background" class="section level2">
<h2>Technology Background</h2>
<p>At present the Throughput DB stack is at the proof of concept stage, but much of the technological infrastructure has been chosen with the data model and architecture at the forefront of the design decisions.</p>
<div id="api-first-development" class="section level3">
<h3>API First Development</h3>
<p>The Throughoput Database is intended as a back-end service to link data resources. As such investment in UI/UX design is less important at this stage than investment in a well developed API. The API will have <code>POST</code> and <code>GET</code> methods, roughly mapping to:</p>
<pre><code>GET  resource
     body
     target
POST annotation</code></pre>
<p>The <code>GET</code> methods will return data objects representing the resources associated with the annotation engine (the data repositories), the annotation bodies, supporting, for example, keyword searches <em>&amp;cetera</em>, and target related searches, generally querying DOIs or other UIDs.</p>
</div>
<div id="neo4j" class="section level3">
<h3>neo4j</h3>
<p>The linked nature of the data suggests that a graph database would provide the greatest support for the data model. Here we envision several node and link types, including <code>person</code>, <code>resource</code>, <code>thing</code> data types (using the W3C Annotation and <a href="">schema.org</a> data models). Targets and Bodies would be identified through graph relationships, for example:</p>
<p><img src=images/simplest_annotation.svg align='center' class='box curveshdw'></p>
<p>By ensuring that bodies and targets have a common node type we can then ensure that annotation bodies themselves can be annotated. <code>neo4j</code> has a number of packages to support Java, JavaScript, R and other programming languages. This means that development of the API itself can be platform agnostic, thus, replication of the database and development of a new interface should provide the ability to fork the project easily.</p>
</div>
<div id="docker" class="section level3">
<h3>Docker</h3>
<p>Docker containers act to isolate a set of system components from the underlying architecture. Given this setup it is possible to run a system with the same custom components on a local system, a remote server, or on a collaborators system. We use a container configured for <code>neo4j</code> using the <code>neo4j:3.0</code> container, and run using a <code>yaml</code> configuration file that points the neo4j browser to port 17474. This way it doesn’t interfere with any local instances of neo4j.</p>
</div>
<div id="w3c-standards" class="section level3">
<h3>W3C Standards</h3>
<p>In general this model contains only four key elements. An annotation, which is effectively an empty node used to link elements, a body and target are both the same node type, this allows an annotation body to be a target in and of itself.</p>
<div id="body-target-and-annotation" class="section level4">
<h4>Body, Target and Annotation</h4>
<blockquote>
An annotation is considered to be a set of connected resources, typically including a body and target, and conveys that the body is related to the target. The exact nature of this relationship changes according to the intention of the annotation, but the body is most frequently somehow “about” the target.
</blockquote>
<p><a href="https://www.w3.org/annotation/">W3C Annotation Standards</a></p>
<p>In general, this model works for the kind of annotations we want to discuss. For example:</p>
<ul>
<li>An individual makes a note about a data record [note - annotates - record]</li>
<li>An individual tags a data record with some keywords [keywords - annotate - record]</li>
<li>A dataset is related to an existing grant [grant # - annotates - record]</li>
</ul>
<p>In each of these cases, the annotation (the note, the keywords or the grant) are used to supplement the information of the underlying dataset. We consider this a “data-focused” annotation system, so the data record is most commonly the object being annotated. It is possible that an annotation can itself be annotated, or the body of an annotation.</p>
<p>An annotation assumes that each body applies to each target equally. This may not be the case, for example, we may want to generate an annotation for a dataset that both links it to a record from another database, and explains why the records are being linked. In this case, neither of the body elements can be considered independent of one another with respect to the target since the text must reference the URI and the URI relationship is not clear until addressed by the text annotation.</p>
<p>The OpenAnnotation standards provide the concept of a <a href="http://www.openannotation.org/spec/core/multiplicity.html#Composite">Composite</a>. In this case, the two body elements can be bound together, indicating that they must be considered in connection to one another, and then linked to the annotation.</p>
<p><code>body:(composite:((body1)(body2)))-annotation-target:()</code></p>
<div id="annotation-properties" class="section level5">
<h5>Annotation Properties</h5>
<p>The annotation requires some secondary information if we are going to manage annotations across the data lifecycle. These include the <code>creator</code>, the <code>created</code> date/time stamp, the <code>generator</code>, the agent responsible for generating the reference, the date in which the serialization was <code>generated</code>, and then, potentially, <code>modified</code>.</p>
</div>
<div id="body-properties" class="section level5">
<h5>Body Properties</h5>
<p>A body contains the information relavent to the annotation. It may link to a target singly, or as part of a composite (see above).</p>
</div>
</div>
</div>
</div>
<div id="case-studies" class="section level2">
<h2>Case Studies</h2>
<div id="cross-database-annotation" class="section level3">
<h3>Cross-Database Annotation</h3>
</div>
<div id="linking-projects-to-presentations---agu-2017" class="section level3">
<h3>Linking Projects to Presentations - AGU 2017</h3>
<p>This is empty right now. ToDo</p>
</div>
<div id="individual-focused-annotation" class="section level3">
<h3>Individual Focused Annotation</h3>
<div id="an-individual-annotates-one-or-several-records." class="section level4">
<h4>An Individual Annotates One or Several Records.</h4>
<p>In this instance, a researcher working on a project has discovered an issue with a single, or several datasets within a resource. This issue may not be an error <em>per se</em> or a deficiency with the dataset, but may simply be an artifact of methodological or disciplinary-related procedures. Thus, the annotation helps indicate that special steps may be required to process the data, or may indicate reasons why the data may be an outlier in analysis.</p>
<div id="duplicate-analytic-layers-in-neotoma" class="section level5">
<h5>Duplicate analytic layers in Neotoma</h5>
<p>In sedimentary pollen analysis it may be the case that a researcher counts multiple slides at a single depth. In many cases these counts are summed and reported as a single value, but it may be the case that they are reported independently. For a researcher unfamiliar with pollen analysis this may result in confusion, particularly when counts differ. Thus, an individual encountering this issue for the first time may wish to annotate a single record.</p>
<p>In this case, the annotator, Simon Goring (orcid: <a href="http://orcid.org/0000-0002-2700-4605">0000-0002-2700-4605</a>) creates a text annotation that targets the dataset object from Neotoma. Given this structure we generate a graph to indicate this relationship. Once generated as part of the larger graph and API system, the annotation can be served as part of a query relating to a number of factors.</p>
<pre class="r"><code>clear_gph &lt;- function(x) {
  cypher(x, &#39;MATCH (n) OPTIONAL MATCH (n)-[r]-() DELETE n,r;&#39;)
}

clear_gph(con)

user &lt;- creator(identifier = &#39;0000-0002-2700-4605&#39;,
                PropertyID = &#39;orcid&#39;,
                 firstName = &#39;Simon&#39;,
                  lastName = &#39;Goring&#39;)

body &lt;- object(type = &quot;TextualBody&quot;,
               value = paste0(&quot;Two samples counted at the same depth (x=94cm) with the same ages. &quot;,
                              &quot;It seems like these samples are two separate counts at the same depth &quot;,
                              &quot;and may be summed during analysis.&quot;))

target &lt;- object(type = &quot;URL&quot;,
                 value = &quot;http://api.neotomadb.org/v1/data/datasets/13047&quot;)

source &lt;- object(type = &quot;DOI&quot;,
                 value = &quot;10.17616/R3PD38&quot;)

link_record(      con = con, 
            generator = user, 
                 body = body, 
               target = target,
               source = source)</code></pre>
<div class="box curveshdw" align="center">
<div id="htmlwidget-3db6d12288b5d870e3e4" style="width:600px;height:600px;" class="forceNetwork html-widget"></div>
<script type="application/json" data-for="htmlwidget-3db6d12288b5d870e3e4">{"x":{"links":{"source":[0,1,2,3,3,4,3,2],"target":[3,3,3,1,0,2,2,4],"value":["hasBody","created","hasTarget","created","hasBody","hasRes","hasTarget","hasRes"],"colour":["#666","#666","#666","#666","#666","#666","#666","#666"]},"nodes":{"name":["object","creator","object","annotation","object"],"group":["object","creator","object","annotation","object"],"nodesize":["24","24","24","24","24"]},"options":{"NodeID":"type","Group":"type","colourScale":"d3.scaleOrdinal(d3.schemeCategory10);","fontSize":14,"fontFamily":"serif","clickTextSize":35,"linkDistance":50,"linkWidth":"function(d) { return Math.sqrt(d.value); }","charge":-30,"opacity":1,"zoom":false,"legend":true,"arrows":false,"nodesize":true,"radiusCalculation":" Math.sqrt(d.nodesize)+6","bounded":false,"opacityNoHover":0,"clickAction":null}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<div id="an-individual-links-datasets-to-a-publication" class="section level5">
<h5>An individual links datasets to a publication</h5>
<p>In many cases, datasets may be used in multiple publications. Some data resources can track this resuse, but many rely on self-reporting, and this oftenresults in incomplete data. It may also be the case that tracking data reuse is beyond the scope of the data resource. Thus, linking resources to publications through anotation provides a service for the data resources, but also for subsequent researchers. Here a data user annotates datasets used in one of their publications:</p>
<pre class="r"><code>clear_gph(con)

if(&#39;all_ds.rds&#39; %in% list.files(&#39;data&#39;)) {
  all_neot &lt;- readRDS(&#39;data/all_ds.rds&#39;)
} else {
  all_neot &lt;- neotoma::get_dataset()
  saveRDS(all_neot, &#39;data/all_ds.rds&#39;)
}

all_matched &lt;- readr::read_csv(&#39;../../stepps-baconizing/data/input/blois_files/2011-01-06-all.matched.lp.sites.csv&#39;)

ds_names &lt;- sapply(all_neot, function(x) x$dataset.meta$collection.handle)

blois_sets &lt;- sapply(match(all_matched$Handle, ds_names),
                     function(x) {
                       if (!is.na(x)) {
                         return(object(type = &#39;URL&#39;,
                                       value = paste0(&#39;http://api.neotomadb.org/v1/data/datasets/&#39;, 
                                                     all_neot[[x]]$dataset.meta$dataset.id)))
                       } else {
                         return(NA)
                       }
                     })

creator &lt;- creator(identifier = &#39;0000-0003-4048-177X&#39;,
                   PropertyID = &#39;orcid&#39;,
                   lastName = &#39;Blois&#39;,
                   firstName = &#39;Jessica&#39;)

target &lt;- blois_sets

for (i in length(target):1) {
  if (!class(target[[i]]) == &#39;object&#39;) {
    target[[i]] &lt;- NULL
  }
}

# Multiple body elements:
body &lt;- list(object( type = &#39;TextualBody&#39;,
                    value = &#39;Age models rebuilt with new biostratigraphic markers.&#39;),
             object( type = &#39;DOI&#39;,
                    value = &#39;10.1016/j.quascirev.2011.04.017&#39;))

source &lt;- object(type = &quot;DOI&quot;,
                value = &quot;10.17616/R3PD38&quot;)

link_record(con = con, 
            generator = creator, 
            body = body, 
            target = target,
            source = source)</code></pre>
<div class="box curveshdw" align="center">
<div id="htmlwidget-b6ec626440ea0c913c8a" style="width:600px;height:600px;" class="forceNetwork html-widget"></div>
<script type="application/json" data-for="htmlwidget-b6ec626440ea0c913c8a">{"x":{"links":{"source":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,161,161,161,161,162,126,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,20,18,22,19,24,21,26,23,28,25,30,27,32,29,34,31,38,35,33,37,42,39,36,41,46,43,40,45,50,47,44,49,52,53,54,48,56,57,58,51,60,61,62,55,64,65,66,59,74,67,68,69,63,71,72,73,82,75,76,77,70,79,80,81,84,89,86,83,88,78,90,87,92,97,94,91,96,85,98,95,102,99,104,101,106,103,93,105,110,107,112,109,115,116,117,119,120,121,114,123,124,125,118,127,128,129,122,133,130,135,132,137,134,151,136,139,141,138,143,140,131,142,159,144,145,146,147,148,149,150,108,152,153,154,155,156,157,158,113,100,111,160,161,162,161,162,162,161,161,162,161,162,161,162,162,161,161,162,161,162,161,162,162,161,161,162,161,162,161,162,162,161,161,162,161,162,161,162,161,162,161,162,161,162,161,162,161,162,161,162,161,162,161,162,161,162,161,162,161,162,161,162,161,162,162,161,161,162,162,161,161,162,162,161,161,162,162,161,161,162,162,161,161,162,162,161,161,162,162,161,161,162,162,161,161,162,161,162,162,161,161,162,161,162,161,162,162,161,161,162,161,162,161,162,162,161,161,162,161,162,161,162,162,161,161,162,161,162,162,161,162,161,162,161,161,162,162,161,162,161,162,161,161,162,162,161,162,161,162,161,161,162,162,161,162,161,162,161,161,162,161,162,161,162,161,162,162,161,161,162,161,162,161,162,161,162,161,162,161,162,161,162,162,161,161,162,161,162,161,162,161,162,162,161,161,162,162,161,162,161,162,161,161,162,162,161,161,162,162,161,161,162,162,161,162,161,162,161,161,162,162,161,161,162,161,162,162,161,161,162,162,161,161,162,162,161,161,162,161,162,161,162,162,161,161,162,162,161,161,162,162,161,161,162,161,162,162,161,162,161,162,161,162,161,162,161,162,161,162,161,161,162,162,161,162,161,162,161,162,161,162,161,162,161,162,161,161,162,162,161,161,162,162,161,161,162,162,161,161,162,162,161,162,161,162,161,161,162,162,161,161,162,162,161,161,162],"target":[161,161,161,161,161,161,161,161,161,161,161,161,161,161,161,161,161,161,161,161,161,161,161,161,161,161,161,161,161,161,161,161,161,161,161,161,161,161,161,161,161,161,161,161,161,161,161,161,161,161,161,161,161,161,161,161,161,161,161,161,161,161,161,161,161,161,161,161,161,161,161,161,161,161,161,161,161,161,161,161,161,161,161,161,161,161,161,161,161,161,161,161,161,161,161,161,161,161,161,161,161,161,161,161,161,161,161,161,161,161,161,161,161,161,161,161,161,161,161,161,161,161,161,161,161,161,161,161,161,161,161,161,161,161,161,161,161,161,161,161,161,161,161,161,161,161,161,161,161,161,161,161,161,161,161,161,161,161,161,161,161,0,1,2,117,117,162,162,162,162,162,162,162,162,162,162,162,162,162,162,162,162,162,162,162,162,162,162,162,162,162,162,162,162,162,162,162,162,162,162,162,162,162,162,162,162,162,162,162,162,162,162,162,162,162,162,162,162,162,162,162,162,162,162,162,162,162,162,162,162,162,162,162,162,162,162,162,162,162,162,162,162,162,162,162,162,162,162,162,162,162,162,162,162,162,162,162,162,162,162,162,162,162,162,162,162,162,162,162,162,162,162,162,162,162,162,162,162,162,162,162,162,162,162,162,162,162,162,162,162,162,162,162,162,162,162,162,162,162,162,162,162,162,162,162,162,162,162,162,162,162,162,162,162,162,162,162,162,162,162,162,162,162,162,116,116,115,115,114,114,121,121,120,120,119,119,118,118,125,125,124,124,123,123,122,122,129,129,128,128,127,127,126,126,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,14,14,15,15,16,16,17,17,18,18,20,20,19,19,22,22,21,21,24,24,23,23,26,26,25,25,28,28,27,27,30,30,29,29,32,32,31,31,34,34,33,33,37,37,38,38,35,35,36,36,41,41,42,42,39,39,40,40,45,45,46,46,43,43,44,44,49,49,50,50,47,47,48,48,54,54,53,53,52,52,51,51,58,58,57,57,56,56,55,55,62,62,61,61,60,60,59,59,66,66,65,65,64,64,63,63,71,71,72,72,73,73,74,74,67,67,68,68,69,69,70,70,79,79,80,80,81,81,82,82,75,75,76,76,77,77,78,78,88,88,87,87,90,90,89,89,84,84,83,83,86,86,85,85,96,96,95,95,98,98,97,97,92,92,91,91,94,94,93,93,105,105,106,106,103,103,104,104,101,101,102,102,99,99,100,100,113,113,160,160,111,111,112,112,109,109,110,110,107,107,108,108,152,152,153,153,154,154,155,155,156,156,157,157,158,158,159,159,144,144,145,145,146,146,147,147,148,148,149,149,150,150,151,151,136,136,137,137,134,134,135,135,132,132,133,133,130,130,131,131,142,142,143,143,140,140,141,141,138,138,139,139],"value":["created","hasBody","hasBody","hasTarget","hasTarget","hasTarget","hasTarget","hasTarget","hasTarget","hasTarget","hasTarget","hasTarget","hasTarget","hasTarget","hasTarget","hasTarget","hasTarget","hasTarget","hasTarget","hasTarget","hasTarget","hasTarget","hasTarget","hasTarget","hasTarget","hasTarget","hasTarget","hasTarget","hasTarget","hasTarget","hasTarget","hasTarget","hasTarget","hasTarget","hasTarget","hasTarget","hasTarget","hasTarget","hasTarget","hasTarget","hasTarget","hasTarget","hasTarget","hasTarget","hasTarget","hasTarget","hasTarget","hasTarget","hasTarget","hasTarget","hasTarget","hasTarget","hasTarget","hasTarget","hasTarget","hasTarget","hasTarget","hasTarget","hasTarget","hasTarget","hasTarget","hasTarget","hasTarget","hasTarget","hasTarget","hasTarget","hasTarget","hasTarget","hasTarget","hasTarget","hasTarget","hasTarget","hasTarget","hasTarget","hasTarget","hasTarget","hasTarget","hasTarget","hasTarget","hasTarget","hasTarget","hasTarget","hasTarget","hasTarget","hasTarget","hasTarget","hasTarget","hasTarget","hasTarget","hasTarget","hasTarget","hasTarget","hasTarget","hasTarget","hasTarget","hasTarget","hasTarget","hasTarget","hasTarget","hasTarget","hasTarget","hasTarget","hasTarget","hasTarget","hasTarget","hasTarget","hasTarget","hasTarget","hasTarget","hasTarget","hasTarget","hasTarget","hasTarget","hasTarget","hasTarget","hasTarget","hasTarget","hasTarget","hasTarget","hasTarget","hasTarget","hasTarget","hasTarget","hasTarget","hasTarget","hasTarget","hasTarget","hasTarget","hasTarget","hasTarget","hasTarget","hasTarget","hasTarget","hasTarget","hasTarget","hasTarget","hasTarget","hasTarget","hasTarget","hasTarget","hasTarget","hasTarget","hasTarget","hasTarget","hasTarget","hasTarget","hasTarget","hasTarget","hasTarget","hasTarget","hasTarget","hasTarget","hasTarget","hasTarget","hasTarget","hasTarget","hasTarget","hasTarget","hasTarget","hasTarget","hasTarget","created","hasBody","hasBody","hasTarget","hasRes","hasRes","hasRes","hasRes","hasRes","hasRes","hasRes","hasRes","hasRes","hasRes","hasRes","hasRes","hasRes","hasRes","hasRes","hasRes","hasRes","hasRes","hasRes","hasRes","hasRes","hasRes","hasRes","hasRes","hasRes","hasRes","hasRes","hasRes","hasRes","hasRes","hasRes","hasRes","hasRes","hasRes","hasRes","hasRes","hasRes","hasRes","hasRes","hasRes","hasRes","hasRes","hasRes","hasRes","hasRes","hasRes","hasRes","hasRes","hasRes","hasRes","hasRes","hasRes","hasRes","hasRes","hasRes","hasRes","hasRes","hasRes","hasRes","hasRes","hasRes","hasRes","hasRes","hasRes","hasRes","hasRes","hasRes","hasRes","hasRes","hasRes","hasRes","hasRes","hasRes","hasRes","hasRes","hasRes","hasRes","hasRes","hasRes","hasRes","hasRes","hasRes","hasRes","hasRes","hasRes","hasRes","hasRes","hasRes","hasRes","hasRes","hasRes","hasRes","hasRes","hasRes","hasRes","hasRes","hasRes","hasRes","hasRes","hasRes","hasRes","hasRes","hasRes","hasRes","hasRes","hasRes","hasRes","hasRes","hasRes","hasRes","hasRes","hasRes","hasRes","hasRes","hasRes","hasRes","hasRes","hasRes","hasRes","hasRes","hasRes","hasRes","hasRes","hasRes","hasRes","hasRes","hasRes","hasRes","hasRes","hasRes","hasRes","hasRes","hasRes","hasRes","hasRes","hasRes","hasRes","hasRes","hasRes","hasRes","hasRes","hasRes","hasRes","hasRes","hasRes","hasRes","hasRes","hasRes","hasRes","hasRes","hasRes","hasRes","hasRes","hasRes","hasRes","hasRes","hasRes","hasRes","hasRes","hasTarget","hasRes","hasTarget","hasRes","hasRes","hasTarget","hasTarget","hasRes","hasTarget","hasRes","hasTarget","hasRes","hasRes","hasTarget","hasTarget","hasRes","hasTarget","hasRes","hasTarget","hasRes","hasRes","hasTarget","hasTarget","hasRes","hasTarget","hasRes","hasTarget","hasRes","hasRes","hasTarget","hasTarget","hasRes","hasTarget","hasRes","hasTarget","hasRes","hasTarget","hasRes","hasTarget","hasRes","hasTarget","hasRes","hasTarget","hasRes","hasTarget","hasRes","hasTarget","hasRes","hasTarget","hasRes","hasTarget","hasRes","hasTarget","hasRes","hasTarget","hasRes","hasTarget","hasRes","hasTarget","hasRes","hasTarget","hasRes","hasRes","hasTarget","hasTarget","hasRes","hasRes","hasTarget","hasTarget","hasRes","hasRes","hasTarget","hasTarget","hasRes","hasRes","hasTarget","hasTarget","hasRes","hasRes","hasTarget","hasTarget","hasRes","hasRes","hasTarget","hasTarget","hasRes","hasRes","hasTarget","hasTarget","hasRes","hasRes","hasTarget","hasTarget","hasRes","hasTarget","hasRes","hasRes","hasTarget","hasTarget","hasRes","hasTarget","hasRes","hasTarget","hasRes","hasRes","hasTarget","hasTarget","hasRes","hasTarget","hasRes","hasTarget","hasRes","hasRes","hasTarget","hasTarget","hasRes","hasTarget","hasRes","hasTarget","hasRes","hasRes","hasTarget","hasTarget","hasRes","hasTarget","hasRes","hasRes","hasTarget","hasRes","hasTarget","hasRes","hasTarget","hasTarget","hasRes","hasRes","hasTarget","hasRes","hasTarget","hasRes","hasTarget","hasTarget","hasRes","hasRes","hasTarget","hasRes","hasTarget","hasRes","hasTarget","hasTarget","hasRes","hasRes","hasTarget","hasRes","hasTarget","hasRes","hasTarget","hasTarget","hasRes","hasTarget","hasRes","hasTarget","hasRes","hasTarget","hasRes","hasRes","hasTarget","hasTarget","hasRes","hasTarget","hasRes","hasTarget","hasRes","hasTarget","hasRes","hasTarget","hasRes","hasTarget","hasRes","hasTarget","hasRes","hasRes","hasTarget","hasTarget","hasRes","hasTarget","hasRes","hasTarget","hasRes","hasTarget","hasRes","hasRes","hasTarget","hasTarget","hasRes","hasRes","hasTarget","hasRes","hasTarget","hasRes","hasTarget","hasTarget","hasRes","hasRes","hasTarget","hasTarget","hasRes","hasRes","hasTarget","hasTarget","hasRes","hasRes","hasTarget","hasRes","hasTarget","hasRes","hasTarget","hasTarget","hasRes","hasRes","hasTarget","hasTarget","hasRes","hasTarget","hasRes","hasRes","hasTarget","hasTarget","hasRes","hasRes","hasTarget","hasTarget","hasRes","hasRes","hasTarget","hasTarget","hasRes","hasTarget","hasRes","hasTarget","hasRes","hasRes","hasTarget","hasTarget","hasRes","hasRes","hasTarget","hasTarget","hasRes","hasRes","hasTarget","hasTarget","hasRes","hasTarget","hasRes","hasRes","hasTarget","hasRes","hasTarget","hasRes","hasTarget","hasRes","hasTarget","hasRes","hasTarget","hasRes","hasTarget","hasRes","hasTarget","hasTarget","hasRes","hasRes","hasTarget","hasRes","hasTarget","hasRes","hasTarget","hasRes","hasTarget","hasRes","hasTarget","hasRes","hasTarget","hasRes","hasTarget","hasTarget","hasRes","hasRes","hasTarget","hasTarget","hasRes","hasRes","hasTarget","hasTarget","hasRes","hasRes","hasTarget","hasTarget","hasRes","hasRes","hasTarget","hasRes","hasTarget","hasRes","hasTarget","hasTarget","hasRes","hasRes","hasTarget","hasTarget","hasRes","hasRes","hasTarget","hasTarget","hasRes"],"colour":["#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666"]},"nodes":{"name":["creator","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","annotation","object"],"group":["creator","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","annotation","object"],"nodesize":["12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12"]},"options":{"NodeID":"type","Group":"type","colourScale":"d3.scaleOrdinal(d3.schemeCategory10);","fontSize":7,"fontFamily":"serif","clickTextSize":17.5,"linkDistance":50,"linkWidth":"function(d) { return Math.sqrt(d.value); }","charge":-30,"opacity":1,"zoom":false,"legend":false,"arrows":false,"nodesize":true,"radiusCalculation":" Math.sqrt(d.nodesize)+6","bounded":false,"opacityNoHover":0,"clickAction":null}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</div>
</div>
<div id="data-resource-linking" class="section level3">
<h3>Data resource linking</h3>
<p>Here we have two records, one, a set of pollen records from Neotoma, the other a set of records within the Arctic Data Center. In this first code block, a researcher (Jack Williams, University of Wisconsin) notes that a set of records added to the Arctic Data Center are linked to a publication in PNAS:</p>
<pre class="r"><code>clear_gph(con)

creator &lt;- creator(identifier = &#39;0000-0001-6046-9634&#39;,
                   PropertyID = &#39;orcid&#39;,
                    firstName = &#39;John&#39;,
                     lastName = &#39;Williams&#39;)

body &lt;- list(object(type = &#39;annotationText&#39;,
                   value = &#39;All resources linked by publication and project as part of the St Paul\&#39;s project.&#39;),
             object(type = &#39;DOI&#39;,
                   value = &#39;10.1073/pnas.1604903113&#39;))

target &lt;- list(object(type = &#39;DOI&#39;,
                     value = &#39;10.18739/A27N5S&#39;),
               object(type = &#39;DOI&#39;,
                     value = &#39;10.18739/A2X68N&#39;),
               object(type = &#39;DOI&#39;,
                     value = &#39;10.18739/A2MH0X&#39;))

source &lt;- object(type = &#39;DOI&#39;,
                value = &#39;10.17616/R37P98&#39;)

link_record(con = con, 
            generator = creator, 
            body = body, 
            target = target,
            source = source)</code></pre>
<p>Some of the records linked by Dr. Williams are also in Neotoma, and, as such, these records can be linked in any number of ways. In this case, Simon Goring links the resources by noting that one of the Arctic Data Center records represents the same physical object (it’s the same core) as the pollen object within Neotoma:</p>
<pre class="r"><code>creator &lt;- creator(identifier = &#39;0000-0002-2700-4605&#39;,
                   PropertyID = &#39;orcid&#39;,
                    firstName = &#39;Simon&#39;,
                     lastName = &#39;Goring&#39;)

body &lt;- list(object(type = &#39;annotationText&#39;,
                   value = &#39;The Neotoma record has a set of geophysical data recorded in the Arctic Data Center.  It\&#39;s all part of the same analysis.&#39;),
             object(type = &#39;DOI&#39;,
                   value = &#39;10.18739/A27N5S&#39;))

target &lt;- object(type = &#39;URL&#39;,
                value = &#39;http://apps.neotomadb.org/explorer/?datasetid=20188&#39;)

source &lt;- object(type = &quot;DOI&quot;,
                value = &quot;10.17616/R3PD38&quot;)

link_record(con = con, 
            generator = creator, 
            body = body, 
            target = target,
            source = source)</code></pre>
<p>This then produces the following graph:</p>
<div class="box curveshdw" align="center">
<div id="htmlwidget-04dcde1bca2e0598fc99" style="width:600px;height:600px;" class="forceNetwork html-widget"></div>
<script type="application/json" data-for="htmlwidget-04dcde1bca2e0598fc99">{"x":{"links":{"source":[0,1,2,3,4,5,6,6,6,7,8,6,0,1,2,8,6,8,6,9,10,11,0,7,7,7,12,11],"target":[6,6,6,6,6,6,5,3,4,0,0,0,8,8,8,1,1,2,2,7,7,7,7,10,9,11,11,12],"value":["hasTarget","hasTarget","hasTarget","hasBody","hasBody","created","created","hasBody","hasBody","hasBody","hasRes","hasTarget","hasRes","hasRes","hasRes","hasRes","hasTarget","hasRes","hasTarget","hasBody","created","hasTarget","hasBody","created","hasBody","hasTarget","hasRes","hasRes"],"colour":["#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666"]},"nodes":{"name":["object","object","object","object","object","creator","annotation","annotation","object","object","creator","object","object"],"group":["object","object","object","object","object","creator","annotation","annotation","object","object","creator","object","object"],"nodesize":["12","12","12","12","12","12","12","12","12","12","12","12","12"]},"options":{"NodeID":"type","Group":"type","colourScale":"d3.scaleOrdinal(d3.schemeCategory10);","fontSize":7,"fontFamily":"serif","clickTextSize":17.5,"linkDistance":50,"linkWidth":"function(d) { return Math.sqrt(d.value); }","charge":-30,"opacity":1,"zoom":false,"legend":false,"arrows":false,"nodesize":true,"radiusCalculation":" Math.sqrt(d.nodesize)+6","bounded":false,"opacityNoHover":0,"clickAction":null}},"evals":[],"jsHooks":[]}</script>
</div>
<p>In this way, the dataset, through this graph, is now connected to the publication indirectly. There is no requirement that the database add this information, it can be discovered through the annotation engine API.</p>
<div id="data-resource-modification" class="section level4">
<h4>Data resource modification</h4>
<p>Neotoma contains a large number of paleoecological records obtained from lake sediment. The lakes are identified by name and location is reported using latitude and longitude coordinates. Data publication for records in Neotoma spans nearly 60 years (<strong>check</strong>), and, as such, the earliest reported locations often had low precision, either rounding when locations were reported as DMS, or as a result of uncertainty when reporting location based on the use of topographic maps.</p>
<p>A recent project by Neotoma resulted in the conversion of locations within the database. Some lake sites had coordinates changed, some sites were unchanged, but additional informaton was added to the resources (for example, original publications were checked and it was not possible to correct the location).</p>
<p>For this exercise we rely on a single annotation that can connect the neotoma data objects resources to a script, a csv table and a text annotation.</p>
</div>
</div>
<div id="a-resource-annotates-records" class="section level3">
<h3>A resource annotates records</h3>
<p>There may be occasions where a script, written by an individual, but associated with a resource, may annotate records. For example, Neotoma and the Paleobiology Database share certain records, but this may not be entirely apparent, or one database may use a script or workflow to improve geolocation of data resources from historical papers. In this case it may be useful to annotate records to either identify links across resources, or to identify any post-processing that has occurred within the resource.</p>
</div>
<div id="an-individual-scripts-a-tool-to-link-resources" class="section level3">
<h3>An individual scripts a tool to link resources</h3>
<p>In this case a user has written a script to link a data resource, and the R package written for that resource, to resources in GitHub. The intention here is to survey ways in which the data resource is being used in analytic workflows.</p>
<pre class="r"><code>clear_gph(con)

ropensci_registry &lt;- jsonlite::fromJSON(&quot;https://raw.githubusercontent.com/ropensci/roregistry/master/registry.json&quot;)

packages &lt;- ropensci_registry$packages$name

gh_token &lt;- scan(&#39;gh.token&#39;, what = &#39;character&#39;)

if(&#39;all_github.rds&#39; %in% list.files(&#39;data&#39;)) {
  test_pks &lt;- readRDS(&#39;data/all_github.rds&#39;)
} else {
  test_pks &lt;- list()  
}

script_home &lt;- &#39;https://github.com/throughput-ec/throughputdb/blob/master/populate/case_study.Rmd&#39;

for (i in 1:length(packages)) { 
  
  # I had to serialize this to avoid getting caught by GitHub&#39;s abuse detection.
  
  x &lt;- packages[i]
  
  
  if (!length(test_pks) &gt;= i) {
    Sys.sleep(5) # This is probably longer than it needs to be. . . 

    repos &lt;- gh::gh(paste0(&#39;/search/code?q=library(&#39;,x,
                           &#39;)+in:file+language:R+extension:R+extension:Rmd&#39;), 
                     .token = gh_token)
       
    annotation_text &lt;- paste0(&quot;The GitHub repository uses the package &quot;,
                              x, &quot; in a `library()` or `require()` call.&quot;)
    
    repo_list &lt;- unique(sapply(repos$items, function(x)x$repository$html_url))
    
    target_list &lt;- lapply(repo_list,
                          function(y) { 
                            if(length(repo_list) &gt; 0) {
                              return(object(value = y, type = &#39;URL&#39;)) 
                              } else { return(NULL) }
                            }
                          )
    
    if (length(target_list) &gt; 0) {
    
      test_pks[[i]] &lt;- list(
        target = target_list,
        body = list(object(value = paste0(&#39;http://github.com/ropensci/&#39;,x), 
                                     type = &#39;URL&#39;),
                    object( type = &quot;annotationText&quot;,
                           value = annotation_text),
                    object(type = &#39;URL&#39;,
                          value = script_home)),
        generator = creator(identifier = &#39;0000-0002-2700-4605&#39;,
                                    PropertyID = &#39;orcid&#39;,
                                      lastName = &#39;Goring&#39;,
                                     firstName = &#39;Simon&#39;),
                body_rel = object(type = &#39;URL&#39;,
                                 value = &#39;https://ropensci.org/&#39;),
                source = object(type = &#39;URL&#39;,
                                value = &#39;http://github.com&#39;))
    } else {
      test_pks[[i]] &lt;- list()
    }
  }
  
  if (length(test_pks[[i]]) &gt; 0) {
    
    link_record(con,
                target = test_pks[[i]]$target,
                  body = test_pks[[i]]$body,
             generator = test_pks[[i]]$generator,
              body_rel = test_pks[[i]]$body_rel,
                source = test_pks[[i]]$source)
  }
  
  saveRDS(object = test_pks, file = &#39;data/all_github.rds&#39;)
  cat(i, &#39;\n&#39;)
  
}</code></pre>
<div class="box curveshdw" align="center">
<div id="htmlwidget-0c42a2c34a870e9c5c07" style="width:600px;height:600px;" class="forceNetwork html-widget"></div>
<script type="application/json" data-for="htmlwidget-0c42a2c34a870e9c5c07">{"x":{"links":{"source":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,256,257,258,209,209,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57],"target":[209,209,209,209,209,209,209,209,209,209,209,209,209,209,209,209,209,209,209,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,16,15,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18],"value":["hasTarget","hasTarget","hasTarget","hasTarget","hasTarget","hasTarget","hasTarget","hasTarget","hasTarget","hasTarget","hasTarget","hasTarget","hasTarget","hasTarget","created","hasBody","hasBody","hasTarget","hasBody","created","created","created","created","created","created","created","created","created","created","created","created","created","created","created","created","created","created","created","created","created","created","created","created","created","created","created","created","created","created","created","created","created","created","created","created","created","created","created","created","created","created","created","created","created","created","created","created","created","created","created","created","created","created","created","created","created","created","created","created","created","created","created","created","created","created","created","created","created","created","created","created","created","created","created","created","created","created","created","created","created","created","created","created","created","created","created","created","created","created","created","created","created","created","created","created","created","created","created","created","created","created","created","created","created","created","created","created","created","created","created","created","created","created","created","created","created","created","created","created","created","created","created","created","created","created","created","created","created","created","created","created","created","created","created","created","created","created","created","created","created","created","created","created","created","created","created","created","created","created","created","created","created","created","created","created","created","created","created","created","created","created","created","created","created","created","created","created","created","created","created","created","created","created","created","created","created","created","created","created","created","created","created","created","created","created","created","created","created","created","created","created","created","created","created","created","created","created","created","created","created","created","created","created","created","created","created","created","created","created","created","created","created","created","created","created","created","created","created","created","created","created","created","created","created","created","created","created","created","created","created","created","created","created","created","created","created","created","created","created","hasBody","hasBody","hasBody","hasBody","hasBody","hasBody","hasBody","hasBody","hasBody","hasBody","hasBody","hasBody","hasBody","hasBody","hasBody","hasBody","hasBody","hasBody","hasBody","hasBody","hasBody","hasBody","hasBody","hasBody","hasBody","hasBody","hasBody","hasBody","hasBody","hasBody","hasBody","hasBody","hasBody","hasBody","hasBody","hasBody","hasBody","hasBody","hasBody","hasBody","hasBody"],"colour":["#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666","#666"]},"nodes":{"name":["object","object","object","object","object","object","object","object","object","object","object","object","object","object","creator","object","object","object","object","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object"],"group":["object","object","object","object","object","object","object","object","object","object","object","object","object","object","creator","object","object","object","object","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","annotation","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object","object"],"nodesize":["12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12","12"]},"options":{"NodeID":"type","Group":"type","colourScale":"d3.scaleOrdinal(d3.schemeCategory10);","fontSize":7,"fontFamily":"serif","clickTextSize":17.5,"linkDistance":50,"linkWidth":"function(d) { return Math.sqrt(d.value); }","charge":-30,"opacity":1,"zoom":false,"legend":false,"arrows":false,"nodesize":true,"radiusCalculation":" Math.sqrt(d.nodesize)+6","bounded":false,"opacityNoHover":0,"clickAction":null}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</div>



</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
